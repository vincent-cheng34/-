                                       百货商场用户画像描绘与价值分析项目分析报告
                                                         程鑫

  一、背景与挖掘目标
  
  （一）背景
 在零售行业中，会员价值体现在持续不断地为零售运营商带来稳定的销售额和利润，同时也为零售运营商策略的制定提供数据支持。零售行业会采取各种不同方法来吸引更多的人成为会员，并且尽可能提高会员的忠诚度。当前电商的发展使商场会员不断流失，给零售运营商带来了严重损失。此时，运营商需要有针对性地实施营销策略来加强与会员的良好关系。比如，商家针对会员采取一系列的促销活动，以此来维系会员的忠诚度。有人认为对老会员的维系成本太高，事实上，发展新会员的资金投入远比采取一定措施来维系现有会员要高。完善会员画像描绘，加强对现有会员的精细化管理，定期向其推送产品和服务，与会员建立稳定的关系是实体零售行业得以更好发展的有效途径。
  本案例通过对某商场的经营数据和会员信息数据进行分析，对商场会员进行用户画像描绘，并根据会员的消费特征对会员进行精细划分，针对不同群体制定对应的营销策略，从而提升商场的销售利润。
  
  （二）分析的步骤与流程
  百货商场会员用户画像描绘与价值分析的总体流程如图 1-1 所示，主要步骤如下。 
  1.获取原始数据。
  2.在 Python 中对原始数据进行数据预处理，包括数据清洗、数据归约和特征构建。 
  3.数据预处理完成后构建会员用户画像，并进行数据建模。 
  4.会员用户细分和营销方案制定。
 
  二、数据说明
 
  数集包括会员信息表和销售流水表。会员信息表记录的是在该商场登记的会员的基础
信息；销售流水表记录的是该商场的销售数据，其中包括会员与非会员的消费数据。数据时
间范围是 2015 年 1 月 1 日至 2018 年 1 月 3 日。会员信息表和销售流水表的具体字段说明
   kh 会员卡号，会员的唯一标志
   csrq 会员的出生日期
   xb 性别，0 表示女士，1 表示男士
   djsj 会员入会登记时间
   dtime 消费产生的时间
   spbm 商品编码
   sl 销售数量
   sj 商品售价
   je 消费金额
   spmc 商品名称
   jf 此次消费的会员积分
   syjh 收银机号
   djh 单据号
   gzbm 柜组编码
   gzmc 柜组名称
 
 三、数据探索及数据预处理
 
 （一）数据探索及数据清洗
  完成思路：首先对数据进行探索，然后对其进行数据的预处理。数据的预处理包含处理重复值、处理缺失值以及处理异常值。在“cumcm2018c1”这张excel表格中，经过探索可以发现这张表并未有重复值，但其有缺失值，不过可以保留。而第二张表“cumcm2018c2”中，虽然有重复值，但会员不同时间或者相同时间的消费不应处理，且数据中还包含着非会员顾客，因此不应处理，而只处理异常值。
  操作步骤：首先通过导入pandas来导入两张表，对其进行必要的数据探索。虽然两张表有些地方不够完美，但是还是可以接受的。经过数据探索我们可以发现，需要处理的主要就是异常值，因此对两张表的的异常值进行必要的处理即可。
  
  （二）数据合并
  完成思路：在任务1.1处理完成两张表格之后，我们需要将两张表格合二为一。我在这里使用的函数是merge函数，连接的端为’kh’这一列。
  操作步骤：pd.merge(y,x,left_on = 'kh',right_on = 'kh')。
  
  四、统计分析与可视化
  
  （一）分析会员年龄段
  完成思路：这个任务需要我们根据会员的年龄进行分段，并绘制饼图。首先，我们需要引入datetime库，然后打印出当前的年份，并使用pd.to_datetime对会员的出生日期进行格式转换并提取出会员出生日期的年份。之后二者相减即可得出会员的年龄。再然后，我们需要将会员的年龄划分为“青年”、“中年”、“老年”。在这里，通过使用pd.cut对其进行分类。（这里将15-45分为青年，45-59分为中年，59-120分为老年，使用’Youth’代表青年，’Midlife’代表中年，’Elder’代表老年）。最后导入matplotlib.pyplot来绘制出饼图即可。
  操作步骤：首先使用datetime库将会员的出生日期进行格式转换并提取出会员出生日期的年份，然后打印出当前年份，对二者进行相减从而得出会员的年龄。之后对其进行划分，使用pd.cut对会员的年龄划分为“青年”，“中年”，“老年”三个群体。最后使用matplotlib.pyplot.pie来绘制饼图即可。
  必要的中间过程：使用pd.to_datetime对会员的年龄进行格式转化并提取出会员出生日期的年份。
  任务结果及分析：通过饼图可以发现，这家百货商场的会员中，15-45岁的会员占比53.1%，45-59岁的会员占比42.3%，而59-120岁的会员仅占比4.6%。说明这家商场比较受中青年，尤其是青年的偏爱。因此可以加大对这一人群的推广，可以通过改变购物方式、优惠券的发放获得方面以及可以引进潮牌或受青年欢迎的品牌入驻来继续留住这一群体会员。

  （二）分析不同年龄段会员的消费金额
  完成思路：将金额列通过使用groupby函数进行分类，然后使用value_counts方法来统计每个年龄段的消费金额。最后通过plt.pie来绘制出饼图。
  操作步骤： 第一，使用groupby来对金额进行聚合分组。其次，将groupby之后的数据使用value_counts进行统计，得出每个年龄段的消费金额。最后，使用matplotlib来绘制出饼图。
  必要的中间过程：使用groupby将数据进行分组聚合。 
  任务结果及分析： 通过绘制出的饼图我们可以发现，青年的消费金额占百货商场总消费金额的46.6%，中年的消费金额占百货商场总消费金额的48.6%，而老年人的消费金额仅占百货商场总消费金额的4.8%。结合任务2.1-（3）来看，中青年是该百货商场的消费主力。因此，商场应当针对两个群体进行措施安排，例如可以进行打折促销；积分可兑换的物品可以是青年人喜爱的物品等方法。

  （三）分析会员的性别比例
  完成思路：将合并的数据表通过value_counts进行统计，并使用matplotlib绘制饼图。
  操作步骤： 首先，使用value_counts对性别字条进行统计；其次对其绘制饼图。
  必要的中间过程： 对性别数据进行数据统计。
  任务结果及分析： 通过制作出的饼图，我们可以发现该百货商场，男性会员的数量占比87.5%，女性会员的数量仅占12.5%。因此百货商场可以针对男性会员上架一些男性感兴趣的商品用于积分兑换等。根据初步分析也可以发现，购买商品中化妆品的数量并不少，因此在化妆品区域可以发布一些活动，例如情人节限定的折扣优惠活动、情侣趣味活动等，来吸引会员。

  （四）分析会员的订单数
  完成思路：直接对表中的卡号列的缺失值与非缺失值进行统计，从而制作饼图。
  操作步骤： 对表中的卡号列的缺失值与非缺失值进行统计，并制作饼图。
  必要的中间过程： 统计卡号列的缺失值与非缺失值。
  任务结果及分析： 通过绘制出来的饼图，我们可以发现会员的订单数占该百货商场总订单数的53.7%，而非会员的订单数占该百货商场总订单数的46.3%。可见该商场会员的消费“回头率”还不错。

  （五）分析会员与非会员的消费金额比例
  完成思路： 通过计算总的消费金额，减去会员消费金额，算出非会员的消费金额。
  操作步骤： 首选，使用sum统计会员的消费金额；其次，统计总消费金额；最后二者相减计算出非会员的金额。
  任务结果及分析：根据绘制出的饼图我们可以发现，非会员的消费金额还是要比会员的消费金额多不少的。非会员的消费金额可以达到68.7%，而会员的消费金额则达到31.3%。由此可以说明，该百货商场能够有很大几率收获更多的会员，可以通过适当的活动来发展“回头客户”。

  （六）分析商场会员不同年份的消费金额
  完成思路： 提取出会员消费的年份，并以此作为条件对“je”进行聚合分组；并对其进行汇总统计；最后制作柱状图。
  操作步骤： 首先通过pd.to_datetime来提取出会员消费的年份，其次对“je”进行聚合分组，分组的条件为提取出的会员消费年份。并对聚合分组的金额进行汇总统计，最后完成柱状图的绘制即可。
  必要的中间过程：提取出各个会员的消费年份，并对“je”列进行聚合分组，分组的条件为提取出的会员消费年份。
  任务结果及分析：通过绘制的柱状图可以发现2017年的消费金额最多，其次是2016年、2015年，而2018年的消费金额最少。其中的一个原因是2018年统计的仅为第一个月的消费金额。因此，从总体来看，该百货商场的营业收入稳步增长，2018年则可以通过后续的数据分析进行精准营销，从而刺激商场的消费。

  （七）分析会员不同月份的消费金额
  完成思路： 首先，提取出会员的消费月份，“je”以任务2.2-（3）提取出的消费年份和本任务中提取出的月份为分组条件进行分组聚合；其次对聚合结果进行统计分析，并绘制柱状图。
  操作步骤： 使用pd.to_datetime提取出会员的消费月份；“je”以任务2.2-（3）提取出的消费年份和本任务中提取出的月份为分组条件进行分组聚合；最后绘制出每个月份的消费金额柱状图。
  必要的中间过程：使用pd.to_datetime提取出会员的消费月份；“je”以任务2.2-（3）提取出的消费年份和本任务中提取出的月份为分组条件进行分组聚合。
  任务结果及分析：通过绘制出来的柱状图我们可以发现2015年12月和2016年1月的消费金额很低。而2016年11月、2017年10月、2016年9月的消费金额排名前三。总体来说该百货商场的会员消费金额较为稳定，但在某些月份会出现过多或过少。

 （八）分析一天中会员消费高峰时段
  完成思路： 提取出会员消费的“小时”数据，并以提取出的小时进行聚合分组。最后按时段进行统计，并制作柱状图。
  操作步骤： 首先通过pd.to_datetime提取出会员消费的“小时”数据，将“djh”以“小时”进行聚合分组；对其进行时段分割并进行统计分析；最后绘制柱状图。
  任务结果及分析：通过绘制的柱状图我们可以发现下午时段是会员消费的高峰期，接下来分别是晚上、中午和早上，凌晨的会员消费人数最少。

 （九）分析不同季节会员的消费金额
  完成思路： 使用提取出的会员消费年份和月份，对“djh”进行聚合分组。之后对聚合结果进行统计，并绘制柱状图。
  操作步骤： 使用groupby对“djh”进行聚合分组，并对其进行统计分析和柱状图绘制。
  任务结果及分析：通过绘制出的柱状图我们可以发现会员在春夏两季的消费金额较高，而在秋冬两季的消费金额偏少。初步猜测，应该是会员因为天气气候的原因不愿出门购物导致。因此百货商场可以采用新零售形式（“外卖方式”），来满足会员日常的需求，从而继续保证百货商场的收入。

  五、构建用户画像
  
  完成思路： 在这一任务中，我们需要对数据构建特征标签，包括用户基本特征、用户业务特征、用户兴趣特征。通过新建Excel文件，并导入来创建新的数据集。在用户基本特征中构建卡号、性别、年龄、积分标签；而在用户业务特征中构建入会时长、消费金额标签；用户兴趣特征中构建购物偏好、消费季节偏好、一日之中消费时间偏好标签。
  操作步骤： 首先，新建Excel并导入。其次，用户基本特征标签方面，将任务2.1-（3）算出的会员年龄放入年龄列中；将“kh”放入至“卡号”列；将“xb”以for循环方式放入“性别”列，令其结果为“男”或“女”；将“jf”放入至“积分”列中。再次，用户业务特征方面，则以今年年份与入会年份之差作为“入会时长”；“消费金额”则为“je”的汇总。最后在用户的兴趣特征方面，通过商品名称判断其“购物偏好”；以for循环方式将前任务的会员消费季节放入“消费季节偏好”列中，要求值为春季、夏季、秋季、冬季；最后引入会员消费时间作为“消费时间偏好“标签
  任务结果及分析：最后随意输出一位会员，可发现其卡号信息、年龄、性别、积分、入会时长、消费金额、购物偏好、购物季节偏好和购物时间偏好均被打印出来。

 六、会员细分
 
  完成思路： 通过新建Excel文件来构建出我想要利用制作模型的三个元素，分别为消费金额、入会时长以及消费季节。将这三个元素作为用户价值分析特征标签。首先由于三个元素的数据相差较大，因此数据进行标准化处理；其次对数据进行KMeans分组模型处理，并训练数据；最后通过matplotlib绘制出雷达图。
  操作步骤： 首先将任务三中的消费金额、入会时长直接放入待训练的数据集中，其次将其消费季节变为数字形式放入到待训练的数据集中。通过探索可以发现，三个元素之间的数据差异略大，因此对数据集进行标准化处理。处理完毕后从sklearn.cluster中导入KMeans模块，并对数据进行建模训练，发现当簇为3时比较好。之后打印模型的统计情况、模型标签等，最后绘制出如下图的雷达图。
  任务结果及分析：根据雷达图我们可以发现我们可以将客户群体总体上分为三类：
  客户群体1：在R（消费季节）属性上最大，可定义为一般会员。
  客户群体2：在L（入会时长）属性上最大，可定义为忠实会员。
  客户群体3：在三个属性中均不明显，唯一较为突出的则是消费金额属性，因此这一群体可以作为潜力会员。

  群体分析：
  一般会员：在消费季节的属性上最高，其次是消费金额，最低的则是入会时长。这类客户群体收到季节的影响较大，因此百货商场可以采取新零售方式，依托互联网这个平台对客户实行精准营销，提升该会员群体的方便程度。此外这一群体的入会时间并不长，因此可以采用“联名活动”、“换季促销”等方式增加客户在本商场和合作商家的消费。
  忠实会员：该群体在入会时长的属性上较高，说明其入会时长较长，因此说明该客户群体是该百货商场较为忠实的会员。因此，百货商场可以根据“二八定律”，给予老会员“特殊福利”；给予老客户一定数额的消费贷款、赊购、折扣等优惠；并提高自身的会员服务管理能力，从而做到尽可能地留住这一部分忠实会员。
  潜力会员：该会员群体在消费季节、入会时长方面均比较低，而在消费金额属性上较大。因此需要百货商场加强与该会员群体的联系，了解他们的最新需求，从而为其解决问题，最终提高“潜力会员“们的忠诚度。

  七、营销方案

  （一）针对新客户
  
  1.广告宣传
  通过各大媒体（如电视、网络门户网站、报纸等）渠道以及新媒体（如微信社群、微博等）渠道，宣传百货商场及百货商场的活动。在这一方面，需要企业在文案方面多费功夫，尽量能做到吸引眼球，能够让客户一眼就能够记住。例如在大促销、大折扣时可以通过各大
渠道对此次的活动进行重大宣传。
  2.建立企业形象
  百货商场可以在大型赛会、活动抑或是重大疫情、灾情中进行赞助或捐赠，从而建立企业“人设”，通过建立客户好感度，来获得客户，并通过进一步的营销手段来留住顾客。例如可以在马拉松赛事冠名以提升知名度。
  3.合作推广
  首先，该百货商场可以通过与合作伙伴之间进行合作以达到宣传推广的目的。例如百货商场可以与家具城、日用品商城等与生活息息相关的合作商进行合作，从而达到互利共赢的目的。其次，百货商场还可以通过与企业、政府机构等合作，为这些组织的员工提供购物券，从而吸引新的客户进行消费。而百货商场就可以通过此种途径接触新鲜客户，从而拓展这些“潜在会员”。
  4.在百货商场可承受范围内加大优惠力度
事实证明，客户更加倾向于更加优惠的商场和商品，因此对于新客户来说最吸引他们的并不是礼品礼物，而是优惠。所以在运营过程中，如是战略目标为吸引新客户，那么企业所需要付出的成本相对来说就越高。

  （二）针对会员
  1.采用新零售模式
  根据分析我们可以看到，该百货商场的会员群体大多为青年。此类群体一方面受季节的变化较大；另一方面这类群体的大部分人为“上班族”，所以购物时间不是特别充分，因此我们可以推出新零售模式消费。让会员在家即可消费，而不必带着疲倦去商场采购。
  2.推出会员等级制度
  百货商场可以通过会员的入会时长或者消费积分来为会员进行升级。例如升级会员可以提供一定的优惠；每次消费可获得额外的积分；不同等级的会员可以兑换不同的礼品等方案。
  3.加强与会员的联系
  客户在成为会员时，必然会留下其联系方式。因此我们可以通过微信公众号、微信社群、短信、AI电话等方式向客户进行定期推广。除此之外，百货商场可以举办一个活动，即“每月客户意见反馈”活动。每个客户每月可参加一次，只要其提交有效问卷，就可获得返现、礼品赠送等奖励。通过这种方式，我们可以了解到客户对于百货商场的态度，从而提升商场服务质量，最终提升客户满意度。
  4.联合活动
  结合针对新客户的第三点来说，我们可以与合作商进行合作。即客户在合作商处消费也可获得百货商场的积分，并在消费成功时发送带有百货商场名字、商场促销的手机短信。通过这种方式可以提醒会员实时的促销活动、优惠活动等信息。
  5.推出更加吸引会员的兑换商品
  此方案需配合第三点的问卷配合，商场可以通过问卷来获得客户的喜好。推出吸引会员的商品，从而刺激会员在这个商场消费来获得积分以兑换自己心仪的商品。

  八、方案总结
  在营销理论中，注重的往往是三点。第一，获取客户；第二，留住客户；第三，拓展新客户。此外提高客户的忠诚度的途径是提高客户的满意度，因此本营销方案主要围绕提高客户的满意度为主。
  通过上述方案来看，拓展新客户的成本较高，而维持会员的成本相对较低。且如果能够保留住会员，则可以通过会员进行进一步传播，并以这种方式获得新客户。因此留住会员的策略更好，但并不意味着直接放弃新客户。百货商场可以投入较多资源于会员，留住会员即可稳住销售额。在此基础上投放一定数额的广告，并利用互联网、新媒体进行宣传推广。例如可以采取微信社群的用户裂变等方式，在社群里发放优惠券、折扣等来吸引客户前来购买。通过以上实现百货商场的精准营销和会员客户差异化来提高顾客的满意度、忠诚度，从而刺激客户的消费。
